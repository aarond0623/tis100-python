import sys
sys.path.append('..')

import cluster

in_a = [23, 10, 4, 5,
        17, 7, 3, 5,
        8, 8, 3, 4,
        12, 1, 3, 3,
        17, 1, 3, 5,
        24, 2, 4, 4,
        1, 5, 4, 5,
        3, 11, 4, 5,
        5, 1, 4, 3]

image = """
000000000000000000000000000000
000003333000333003330000000000
000003333000333003330000333300
000003333000333003330000333300
000000000000000003330000333300
033330000000000003330000333300
033330000000000000000000000000
033330000000000003330000000000
033330003330000003330000000000
033330003330000003330000000000
000000003330000003330003333000
000333303330000003330003333000
000333300000000000000003333000
000333300000000000000003333000
000333300000000000000003333000
000333300000000000000000000000
000000000000000000000000000000
000000000000000000000000000000""".split('\n')[1:]

image = [[int(x) for x in line] for line in image]

c = cluster.NodeCluster(4, 3,
                        inputs={(2,0): in_a},
                        outputs=[(3,4)],
                        image_port=(3,4),
                        test_image=image,
                        dead=[(4,1)],
                        filename="16.txt")
c.run()
